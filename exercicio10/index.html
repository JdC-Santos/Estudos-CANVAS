<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
		<title>
			Exercicio 10 - Spritesheets - recorte e enquadramento
		</title>
		<script type="text/javascript" src="spritesheet.js"></script>
		<script type="text/javascript" src="animacao.js"></script>
		<script type="text/javascript" src="teclado.js"></script>
		<script type="text/javascript" src="sonic.js"></script>
	</head>
<style type="text/css">
	canvas{
		background:#bbb;
	}
</style>
<body>
	<canvas id="canvas" width="500" height="500"></canvas>
	<script type="text/javascript">
		var canvas = document.getElementById('canvas');
		var ctx = canvas.getContext('2d');
		/*=====================================
			EXERCICIO 01
		=======================================*/
			// var imgSonic = new Image();
			// imgSonic.src = 'spritesheet.png';
			// imgSonic.onload = function(){
			// 	//passo os valores conforme a spritesheet
			// 	var linhas = 3;//fixo
			// 	var colunas = 8;//fixo
			// 	//dimensao de cada quadrado
			// 	var largura = imgSonic.width / colunas;
			// 	var altura = imgSonic.height / linhas;
			// 	//quadro que quero (experrsao em linha e coluna)
			// 	var queroLinha  = 2;//altera para pegar parte
			// 	var queroColuna = 7;
			// 	//posicao de recorte
			// 	var x = largura*queroColuna;
			// 	var y = altura*queroLinha;
			// 	//desenhando a ibagem!
			// 	ctx.drawImage(
			// 	imgSonic,
			// 	x,
			// 	y,
			// 	largura,
			// 	altura,
			// 	100,//x no canvas
			// 	100,//y no canvas
			// 	largura,
			// 	altura
			// 	);
			// }
		/*=====================================
			EXERCICIO 02
		=======================================*/
			// var imgSonic = new Image();
			// imgSonic.src = 'spritesheet.png';
			// //passar: contexto, imagem, linhas e colunas
			// var sheet = new Spritesheet(ctx,imgSonic,3,8);
			// sheet.intervalo = 60;
			// sheet.linha =1;
			// //animacao
			// imgSonic.onload = gameLoop;

			// function gameLoop(){
			// 	ctx.clearRect(0,0,ctx.canvas.width,ctx.canvas.height);
			// 	//avancar quadro
			// 	sheet.proximoQuadro();
			// 	//onde desenhar
			// 	sheet.desenhar(100,100);

			// 	requestAnimationFrame(gameLoop);
			// }
		/*=====================================
			EXERCICIO 03
		=======================================*/
			var teclado = new Teclado(document);
			var animacao = new Animacao(ctx);
			var imgSonic = new Image();
			imgSonic.src =  'spritesheet.png';

			var sonic = new Sonic(ctx,teclado, imgSonic);
			sonic.x = 0;
			sonic.y =200;
			animacao.novoSprite(sonic);

			imgSonic.onload = function(){
				animacao.ligar();
			}
	</script>
</body>
</html>
